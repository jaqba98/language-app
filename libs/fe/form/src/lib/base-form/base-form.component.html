<form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
  <lib-flex [flexDirection]="flexDirection" alignItems="stretch" gap="small">
    <ng-container *ngFor="let control of getControls()">
      <lib-flex [alignItems]="control.alignItems">
        <lib-input
          *ngIf="control.kind === 'input'"
          [controlForm]="getControl(control.id)"
          [control]="control"></lib-input>
        <lib-button-link
          *ngIf="control.kind === 'buttonLink'"
          [controlForm]="getControl(control.id)"
          [control]="control"></lib-button-link>
        <lib-button-text
          *ngIf="control.kind === 'buttonText'"
          [controlForm]="getControl(control.id)"
          [control]="control"
          (event)="onSubmit()"></lib-button-text>
        <lib-button-icon
          *ngIf="control.kind === 'buttonIcon'"
          [controlForm]="getControl(control.id)"
          [control]="control"
          (event)="onSubmit()"></lib-button-icon>
        <lib-link
          *ngIf="control.kind === 'link'"
          [controlForm]="getControl(control.id)"
          [control]="control"></lib-link>
      </lib-flex>
    </ng-container>
  </lib-flex>
</form>
