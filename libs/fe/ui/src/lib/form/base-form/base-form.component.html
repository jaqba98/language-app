<form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
  <lib-flex [flexDirection]="flexDirection" gap="small">
    <ng-container *ngFor="let control of getControls()">
      <lib-flex [alignItems]="control.alignItems" gap="tiny">
        <!-- Input -->
        <ng-container *ngIf="control.kind === 'input'">
          <lib-input
            [controlForm]="getFormControl(control.id)"
            [control]="control"></lib-input>
        </ng-container>
        <!-- Button Link -->
        <ng-container *ngIf="control.kind === 'buttonLink'">
          <lib-button-link
            [controlForm]="getFormControl(control.id)"
            [control]="control"></lib-button-link>
        </ng-container>
        <!-- Button Text -->
        <ng-container *ngIf="control.kind === 'buttonText'">
          <lib-button-text
            [controlForm]="getFormControl(control.id)"
            [control]="control"
            (event)="onSubmit()"></lib-button-text>
        </ng-container>
        <!-- Button Icon -->
        <ng-container *ngIf="control.kind === 'buttonIcon'">
          <lib-button-icon
            [controlForm]="getFormControl(control.id)"
            [control]="control"
            (event)="onSubmit()"></lib-button-icon>
        </ng-container>
        <!-- Validation -->
        <ng-container *ngIf="control.validation.isVisible">
          <ng-container *ngIf="formControlInvalid(control.id)">
            <lib-error [value]="getFormControlError(control.id)"></lib-error>
          </ng-container>
        </ng-container>
      </lib-flex>
    </ng-container>
  </lib-flex>
</form>

<!-- <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
  <lib-flex [flexDirection]="flexDirection" gap="medium">
    <lib-flex [flexDirection]="flexDirection" gap="medium">
      <ng-container *ngFor="let control of baseForm.controls">
        <lib-flex [alignItems]="control.alignItems" flexDirection="column" gap="medium">
          <ng-container *ngIf="control.kind === 'link'">
            <lib-link [form]="getFormControl(control.id)" [control]="control"></lib-link>
          </ng-container>
          <ng-container *ngIf="control.kind === 'text'">
            <lib-text
              textColor="text__tertiary"
              type="tiny"
              [value]="control.value"
              [margin]="control.margin"></lib-text>
          </ng-container>
        </lib-flex>
      </ng-container>
    </lib-flex>
    <ng-container *ngIf="formValidation">
      <ng-container *ngIf="formGroupValid">
        <lib-success [value]="formSuccessMessage"></lib-success>
      </ng-container>
      <ng-container *ngIf="formGroupInvalid">
        <lib-error [value]="formErrorMessage"></lib-error>
      </ng-container>
    </ng-container>
  </lib-flex>
</form> -->
